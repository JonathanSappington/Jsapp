<!DOCTYPE html>
<html>
    <head>
		<title>JSON Lab</title>
		<link href="styles.css" rel="stylesheet" media="screen">
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
    </head>
	
    <body onload="getData();">
		<h2>JQuery Example</h2>
		<a href="state_gen.html">Example 1</a>
		
		<div id="jList">
			
		</div>
		
		<script>
			function getData()
			{
				$.getJSON('caretakers.json',function(data)
				{
					for(var i = 0; i < data.staff.length; i++)
						loadData(data,i);
				});
			}
			
			function loadData(caretakers,i)
			{
				var genNum = Math.floor(Math.random() * 3 + 2);
				var diff = caretakers.staff[i].end - caretakers.staff[i].start;
				for(var x = 0; x < genNum; x++){
					var output = "";
					var f = Math.floor(Math.random() * 20 + 1);
					
					output += "(" + 
								'' + caretakers.staff[i].id + ', ' +
								'' + f + ', ' +
								'"' + parseInt(diff / genNum * x + caretakers.staff[i].start) + ':00:00", ' +
								'"' + parseInt(diff / genNum * x + caretakers.staff[i].start + (diff / genNum * 1)) + ':00:00"' +
								"), <br>";
					document.getElementById("jList").innerHTML += output;
					console.log(output);
				}
			}
		</script>
	</body>	
</html>

