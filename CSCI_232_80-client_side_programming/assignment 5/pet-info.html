<!DOCTYPE html>
<html>
    <head>
		<title>Pet Registration</title>
		<link href="styles.css" rel="stylesheet" media="screen">
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<script src="js/cookiefunctions.js" type="text/javascript"></script>
		
		<script>
			window: onload = checkPetInfo;
		
			function validateForm()
			{
				// Gets user genereated inputs
				var xoName, xpName, xbreed = "";
				xoName = document.getElementById("oName");
				xpName = document.getElementById("pName");
				xbreed = document.getElementById("breed");
				
				// Checks whether there are any errors in the form
				var reason = "";
				
				reason += validate(xoName,0,20,/[^A-Za-z_ ]/g);
				reason += validate(xpName,0,20,/[\d\W]/g);
				reason += validate(xbreed,0,20,/[^A-Za-z_ ]/g);
				
				if(reason != "")
					return false;
				
				// Saves user genereated data to localstorage
				localStorage.setItem("OwnerName",xoName.value);
				localStorage.setItem("PetName",xpName.value);
				localStorage.setItem("Breed",xbreed.value);
				
				return true;
			}
			
			function checkPetInfo()
			{
				var user = localStorage.getItem("OwnerName");
				
				// If user does exist then open pet display page
				if(user != null)
					window.open("pet-display.html","_self");
			}
		</script>
    </head>
    <body>
		<div id="wrapper">
		<!-- Main Holds all important content -->
			<main>
				<div class="Function">
					<h2>Pet Registration</h2>
					<a href="index.html">Home</a>
					<p>Register your pet here!</p>
				
					<div id="enterName">
						<form onsubmit="return validateForm()" action="pet-display.html">
							<table>
								<tr>
									<td><label for="oName">Owner name</label></td>
									<td><input type="text" id="oName" name="oName" placeholder="John Smith" size="25" onfocus="hideWarningBox('oName')"></td>
								</tr>
								<tr>
									<td><label for="pName">Pet Name</label></td>
									<td><input type="text" id="pName" name="pName" placeholder="Maggie" size="25" onfocus="hideWarningBox('pName')"></td>
								</tr>
								<tr>
									<td><label for="breed">Pet Breed</label></td>
									<td><input type="text" id="breed" name="breed" placeholder="Golden Retriever" size="25" onfocus="hideWarningBox('breed')"></td>
								</tr>
								<tr>
									<td><input type="submit" id="submit" name="submit" value="Enter"></td>
								</tr>
							</table>
						</form>
					</div>
				</div>
			</main>
		</div>
	</body>	
</html>

