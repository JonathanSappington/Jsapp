<!DOCTYPE html>
<html>
    <head>
		<title>JSON Lab</title>
		<link href="styles.css" rel="stylesheet" media="screen">
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
    </head>
	
    <body onload="getData();">
		<h2>JQuery Example</h2>
		<a href="state_gen.html">Example 1</a>
		<a href="turtles.html">Example 2</a>
		<a href="caretaker.html">Example 3</a>
		
		<div id="jList">
			
		</div>
		
		<script>
			function getData()
			{
				$.getJSON('first-names.json',function(fname)
				{
					$.getJSON('middle-names.json',function(mname)
					{
						$.getJSON('names.json',function(lname)
						{
							$.getJSON('states.json',function(state)
							{
								$.getJSON('cities.json',function(cities)
								{
									$.getJSON('zipcodes.json',function(zip)
									{
										for(var i = 0; i < 20; i++)
										loadData(fname,mname,lname,state,cities,zip);
									});
								});
							});
						});
					});
				});
			}
			
			function loadData(fname,mname,lname,state,cities,zip)
			{
				var output = "";
								
					var phone_num = "";
					
					for(var i = 0; i < 7;i++)
					{
						phone_num += Math.floor(Math.random() * 7).toString();
					}
					
					var f = Math.floor(Math.random() * fname.length);
					var m = Math.floor(Math.random() * mname.length);
					var l = Math.floor(Math.random() * lname.length);
					var s = Math.floor(Math.random() * state.length);
					var sc = Math.floor(Math.random() * cities[state[s]].length);
					
					output += "(" + 
								'"' + fname[f] + '", ' +
								'"' + lname[l] + '", ' +
								'"406' + phone_num + '", ' +
								'"' + fname[f] + mname[m][0] + lname[l] + '@gmail.com", ' +
								'' + "CURRENT_TIMESTAMP" + ', ' +
								'"' + cities[state[s]][sc] + '", ' +
								'"' + zip[state[s]].cities[cities[state[s]][sc]][0] + '", ' +
								'' + Math.round((Math.random() * 400 + Number.EPSILON) * 100) / 100 + ', ' +
								'"' + "0"+Math.floor(Math.random() * 9)+":00:00" + '", ' +
								'"' + "0"+Math.floor(Math.random() * 9)+":00:00" + '", ' +
								'"' + state[s] + '"' + 
								"), <br>";
				document.getElementById("jList").innerHTML += output;
			}
		</script>
	</body>	
</html>

