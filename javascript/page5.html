<!DOCTYPE html>
<html>
    <head>
		<title>Arrays</title>
	
		<script>
			function validateFormOnSubmit(form)
			{
				var reason = "";
				
				reason += validateUsername(form.username);
				reason += validatePassword(form.password);
				reason += validatePhone(form.phone);
				reason += validateEmail(form.email);
				
				if(reason != "")
				{
					alert("Some fields need corrections:\n" + reason);
					return false;
				}

				return true;
			}
			
			function validateUsername(username)
			{
				var error = "";
				var illegalChars = /\W/;
				if(username.value == "")
				{
					username.style.background = "yellow";
					error = "Your Username is Empty";
				}
				else if(username.value.length > 15 || username.value.length < 5)
				{
					username.style.background = "yellow";
					error = "Username must be > 5 and < 15";
				}
				else if(illegalChars.test(username.value))
				{
					username.style.background = "yellow";
					error = "Illegal Chars Detected";
				}
				else
				{
					username.style.background = "white";
				}
				
				return error;
			}
			
			function validatePassword(password)
			{
				var error = "";
				var illegalChars = /[\W_]/;
				
				if(password.value == "")
				{
					password.style.background = "yellow";
					error = "Your password is Empty";
				}
				else if(password.value.length > 16 || password.value.length < 7)
				{
					password.style.background = "yellow";
					error = "Password must be > 5 and < 16";
				}
				else if(illegalChars.test(password.value))
				{
					password.style.background = "yellow";
					error = "Illegal Chars Detected";
				}
				else if(password.value.search(/[A-z]/) == -1 || password.value.search(/[0-9]/) == -1)
				{
					password.style.background = "yellow";
					error = "Password must contain letters and numbers";
				}
				else
				{
					password.style.background = "white";
				}
				
				return error;
			}
			
			function validatePhone(phone)
			{
				var error = "";
				var stripped = phone.value.replace(/[\(\)\.\-\ ]/g,'');

				if(phone.value == "")
				{
					phone.style.background = "yellow";
					error = "Your phone is Empty";
				}
				else if(phone.value.search(/D/) != -1)
				{
					phone.style.background = "yellow";
					error = "Your phone contains alpha numerics";
				}
				else if(stripped.length != 10)
				{
					phone.style.background = "yellow";
					error = "Invalid number";
				}
				else
				{
					phone.style.background = "white";
				}
				
				return error;
			}
			
			function validateEmail(email)
			{
				var error = "";
				var trimmedEmail = email.value.trim();
				var filterEmail = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
				var illegalChars =  /[\(\)\<\>\,\;\\\:\"\[\]]/;

				if(trimmedEmail == "")
				{
					email.style.background = "yellow";
					error = "Your email is Empty";
				}
				else if(!filterEmail.test(trimmedEmail))
				{
					email.style.background = "yellow";
					error = "Enter a valid email address";
				}
				else if(illegalChars.test(trimmedEmail.value))
				{
					email.style.background = "yellow";
					error = "Email address has illegal characters";
				}
				else
				{
					email.style.background = "white";
				}
				
				return error;
			}
		</script>
		
		<style>
		</style>
    </head>
    <body>

		<h1>Form Validation</h1>
		<form action="test.html" onsubmit="return validateFormOnSubmit(this)" name="demo">
			<table>
				<tr>
					<td><label for="username">username:</label></td>
					<td><input type="username" id="username" name="username" size="35" maxlength="50" placeholder="Jeff0123"></td>
				</tr>
				<tr>
					<td><label for="password">password:</label></td>
					<td><input type="password" id="password" name="password" size="35" maxlength="50" placeholder="SomeGuy19"></td>
				</tr>
				<tr>
					<td><label for="email">email:</label></td>
					<td><input type="text" id="email" name="email" size="35" maxlength="50" placeholder="someone@gmail.com"></td>
				</tr>
				<tr>
					<td><label for="phone">phone:</label></td>
					<td><input type="text" id="phone" name="phone" size="35" maxlength="50" placeholder="406-999-9999"></td>
				</tr>
				<tr>
					<td><label for="from">Where are you from:</label></td>
					<td><input type="text" id="from" name="from" size="35" maxlength="50" placeholder="Kalispell Montana"></td>
				</tr>
				<tr>
					<td><input type="submit" id="submit" name="submit" value="send"></td>
				</tr>
			</table>
		</form>
	</body>
		
</html>

